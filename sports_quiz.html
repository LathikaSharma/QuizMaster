<!DOCTYPE html>
<html lang="en">

<head>
   <title> JavaScript Quiz (India & Sports) </title>

</head>
<style>
   #table_1 {
      border-spacing: 200px 0px;
         }

</style>
   <!--**************************************************** -->
   <!--This is the tool bar-->
   <!--**************************************************** -->

   <table id = "table_1">
      <tr>
          <td><image id = "silc" src="Images/index_images/silc_home.jpg"></image></td>
          <!--Link To Preferences-->
          <td id = "text"><a href = "">Preferences</a></td>
          <!--Link To About-->
          <td id = "text"><a href = "">About</a></td>
          <!--Link To Help-->
          <td id = "text"><a href = "">Help</a></td>
      </tr>
   </table>
   
<script>
   //****************************************************
//  This block helps to catch the syntax errors.
//  These errors are reported back to the web page
//****************************************************
      window.onerror = function(e) {
        document.write('There\'s an error: ', e, '</br>')
     };
   </script>

<body id = "body">
   <!--**************************************************** -->
   <!-- This is a placeholder question.  -->
   <!-- This will be replaced by a random question -->
   <!-- when the page first loads up.  -->
   <!-- **************************************************** -->

   <p><img id="q_image" src="Images\sports\Question2_sports.jpg" style="max-height:250px;width:auto;" alt="img not found" class= "aligncenter" /></p>
   <p id="question"> Dummy question </p>
   <form>
      <input type="radio" name="choices"  id="choice_1" />
      <label for="choice_1" id="choice_1_label"> choice 1 </label>
      <br>
      <input type="radio" name="choices" id="choice_2" />
      <label for="choice_2" id="choice_2_label"> choice 2 </label>
      <br>
      <input type="radio" name="choices" id="choice_3" />
      <label for="choice_3" id="choice_3_label"> choice 3 </label>
      <br>
      <input type="radio"name="choices"  id="choice_4" />
      <label for="choice_4" id="choice_4_label"> choice 4 </label>
      <br>
   </form>

</body>

<!-- **************************************************** -->
<!--   Add three buttons "Previous", "Submit", "Next" -->
<!--   TODO: These will be enabled / disabled based on how many questions are answered. -->
<!-- **************************************************** -->

<button id="previousBtn" type="button">
   Previous
</button>

<button id="submitBtn" type="button">
   Submit
</button>

<button id="nextBtn" type="button">
   Next
</button>

<br>
</body>

<script>
   
   //**********************************************
   // STEP 1:  Assign the Event Listeners to the three buttons
   //**********************************************
   
   var next_btn = document.getElementById("nextBtn");
   if (next_btn) {
      next_btn.addEventListener("click", showNextQuestion);
   }
   
   var previous_btn = document.getElementById("previousBtn");
   if (previous_btn) {
      previous_btn.addEventListener("click", showPreviousQuestion);
   }
   
   var submit_btn = document.getElementById("submitBtn");
   if (submit_btn) {
      submit_btn.addEventListener("click", showResults);
   }
   
   //**********************************************
   // STEP 2:  Establish the contract for QUESTION object
   //**********************************************

   /* This is our contract for the Question Object
   topic
   question
   choice_1
   choice_2
   choice_3
   choice_4
   answer
   image
   */

   // Object constructor function and methods
   function Question(x_topic, x_question, x_a, x_b, x_c, x_d, x_answer, x_image) {
      this.topic = x_topic;
      this.question = x_question;
      this.choice_1 = x_a;
      this.choice_2 = x_b;
      this.choice_3 = x_c;
      this.choice_4 = x_d;
      this.answer = x_answer;
      this.image = x_image;

      this.toString = function () {
         document.write("<br><br> ");
         document.write("<br>" + this.topic);
         document.write("<br>" + this.question);
         document.write("<br>" + this.choice_1);
         document.write("<br>" + this.choice_2);
         document.write("<br>" + this.choice_3);
         document.write("<br>" + this.choice_4);
         document.write("<br>" + this.answer);
         document.write("<br>" + this.image + "<br>");
      }
   }

   //**********************************************
   // STEP 3:  Create 20 Questions per the above contract
   // NOTE: for this topic, images are stored in images/sports folder
   //**********************************************

   var q1 = new Question(
    "Sports",
    "What is the most popular sport in India?",
    "Cricket",
    "Badminton",
    "Chess",
    "Football (Soccer)",
    "Cricket",
    "Question1_sports.gif");

  var q2 = new Question(
    "Sports",
    "What is Indiaâ€™s national sport?",
    "Field Hockey",
    "Cricket",
    "Football (soccer)",
    "Badminton",
    "Field Hockey",
    "Question2_sports.jpg");

  var q3 = new Question(
    "Sports",
    "How many medals did India win in the 2016 Summer Olympics?",
    "0 medals",
    "1 silver medal",
    "1 silver and 1 bronze medal",
    "2 gold medals",
    "1 silver and 1 bronze medal",
    "Question3_sports.jpg");

  var q4 = new Question(
    "Sports",
    "Do Indians play ice hockey?",
    "No, India is a hot place!",
    "No, Field Hockey is more popular.",
    "Yes, but only in some cities.",
    "Yes, everywhere.",
    "Yes, but only in some cities.",
    "Question4_sports.jpg");

  var q5 = new Question(
    "Sports",
    "Who is the most famous cricket player in India?",
    "Virat Kohli",
    "Sachin Tendulkar",
    "MS Dhoni",
    "Rahul Dravid",
    "Sachin Tendulkar",
    "Question5_sports.jpg");

  var q6 = new Question(
    "Sports",
    "How many times has India won Gold in Olympics Field Hockey?",
    "3",
    "4",
    "9",
    "8",
    "8",
    "Question6_sports.jpg");

  var q7 = new Question(
    "Sports",
    "When was the last time India hosted the Cricket World Cup?",
    "2012",
    "2011",
    "2015",
    "2004",
    "2011",
    "Question7_sports.jpg");

  var q8 = new Question(
    "Sports",
    "What is Cricket most similar to?",
    "Football (Soccer)", "Baseball",
    "Gilli-Danda",
    "Kabaddi",
    "Baseball",
    "Question8_sports.jpg");

  var q9 = new Question(
    "Sports",
    "Where was Chess invented?",
    "India",
    "Persia",
    "UK",
    "Pakistan",
    "India",
    "Question9_sports.jpeg");

  var q10 = new Question(
    "Sports",
    "Who was one of the four people to break the 2800 mark in Chess?",
    "Pentala Harikrishna",
    "Humpy Koneru",
    "Viswanathan Anand",
    "Harika Dronavalli",
    "Viswanathan Anand",
    "Question10_sports.webp");

  var q11 = new Question(
    "Sports",
    "How old was Sachin Tendulkar when he played his first international game?",
    "16",
    "13",
    "19",
    "29",
    "13",
    "Question11_sports.jpg")

  var q12 = new Question(
    "Sports",
    "What does BAOI stand for?",
    "Baseball Association of India",
    "Boys Activity of India",
    "Badminton Association of India",
    "Basketball Association of India",
    "Badminton Association of India",
    "Question12_sports.jpg")

  var q13 = new Question(
    "Sports",
    "When was the first ever National Sports Policy in India announced?",
    "1984",
    "1880",
    "2013",
    "1967",
    "1984",
    "Question13_sports.jpg")

  var q14 = new Question(
    "Sports",
    "Which of the following is not commonly played in India?",
    "Cricket",
    "Nordic Skiing",
    "Field Hockey",
    "Football (Soccer)",
    "Nordic Skiing",
    "Question14_sports.jpg")

  var q15 = new Question(
    "Sports",
    "When was the first time India participated in the Olympic games?",
    "2004",
    "1990",
    "1976",
    "1892",
    "1990",
    "Question15_sports.jpg")

  var q16 = new Question(
    "Sports",
    "Which of these leagues is the second richest sports league in the world? Second only to National Basketball Association of the US.",
    "PKL - Pro Kabaddi League",
    "IPL - Indian Premier League",
    "HIL - Hockey Indian League",
    "IBL - Indian Badminton League",
    "IPL - Indian Premier League",
    "Question16_sports.jpeg")

  var q17 = new Question(
    "Sports",
    "Who was the first woman to win gold in wrestling in the commonwealth games?",
    "Vinesh Phogat",
    "Saina Nehwal",
    "Geeta Phogat",
    "Heena Sidhu",
    "Geeta Phogat",
    "Question17_sports.jpg")

  var q18 = new Question(
    "Sports",
    "How many gold medals did India win at the 2010 commonwealth games?",
    "23",
    "45",
    "24",
    "38",
    "38",
    "Question18_sports.png")

  var q19 = new Question(
    "Sports",
    "When was the first time India competed in the commonwealth games?",
    "1934",
    "1946",
    "1988",
    "1892",
    "1934",
    "Question19_sports.jpg")

  var q20 = new Question(
    "Sports",
    "What is Kho Kho?",
    "It is a type of ice cream that includes chocolate chips.",
    "It is a game similar to tag and a traditional game from ancient India.",
    "It is a version of laser tag but better.",
    "It is twister with an Indian twist involving 12 players to play at the same time.",
    "It is a game similar to tag and a traditional game from ancient India.",
    "Question20_sports.jpg")

   //**********************************************
   // STEP 4:  Create an array to hold all the above questions
   //**********************************************

   var question_bank = [q1, q2, q3, q4, q5, q6, q7, q8, q9, q10, q11, q12, q13, q14, q15, q16, q17, q18, q19, q20];

   //**********************************************
   // STEP 5:  set HOW_MANY=10 questions
   // This constant will be used to select that many questions from the question bank 
   //**********************************************
   var HOW_MANY = 10;

   //**********************************************
   // STEP 6:  Shuffle/Randomize the Array
   // Reference: https://javascript.info/task/shuffle 
   //**********************************************
   function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
         let j = Math.floor(Math.random() * (i + 1));
         [array[i], array[j]] = [array[j], array[i]];
      }
   }
  // for debugging purposes, disable shuffle for the timebeing
  // shuffle(question_bank);

   //**********************************************
   // STEP 7:  Select HOW_MANY questions 
   //**********************************************
   var mini_question_bank = question_bank.slice(0, HOW_MANY);



   //**********************************************
   // STEP 8:  Display the first question 
   //          from the mini_question_bank 
   // A random question will then show up when the page first loads up.
   //**********************************************
   // we need to keep track of where we are in the question order
   var index = 0;
   showNextQuestion();
   

   //**********************************************
   // STEP 9:  Implement the Next Button
   //**********************************************
   
   function showNextQuestion() {

       // if index == 0, disable the previous button
       if (index == 0) 
      {
         previous_btn.disabled = true;
      } else
      {
         previous_btn.disabled = false;
      }

      // get the question at the index
      var selected_question = mini_question_bank[index];

      // update the question display
      updateQuestion(selected_question);
      
      // increment the index by 1 to set the bookmark
      index = index + 1;    

      // if index == HOW_MANY, disable the next button
      if (index == HOW_MANY) 
      {
         //var next_btn2 = document.getElementById("nextBtn");
         next_btn.disabled = true;
      } else
      {
         next_btn.disabled = false;
      }
   }


   //**********************************************
   // STEP 10:  Implement the Previous Button
   //**********************************************
   
   function showPreviousQuestion() {

      // decrement the index by 2 to set the bookmark to the previous question
      index = index-2;

      // get the question at the index
      var selected_question = mini_question_bank[index];

      // update the question display
      updateQuestion(selected_question);


      // if index == 0, disable the previous button
      if (index == 0) 
      {
         previous_btn.disabled = true;
      }

      // now set the bookmark to the next question
      index = index + 1;

   }

   //**********************************************
   // STEP 11:  Implement the Submit Button
   //**********************************************
   
   function showResults() {
      document.write("Your results are submitted");
   }

   //**********************************************
   // STEP 12:  This is the common function called by 
   //           Page Load, Previous and Next buttons
   //**********************************************
   
   function updateQuestion(selected_question) {
      // now replace the default question with the first question when the page first loads up.
      document.getElementById("question").innerHTML = selected_question.question;
      document.getElementById("choice_1_label").innerHTML = selected_question.choice_1;
      document.getElementById("choice_2_label").innerHTML = selected_question.choice_2;
      document.getElementById("choice_3_label").innerHTML = selected_question.choice_3;
      document.getElementById("choice_4_label").innerHTML = selected_question.choice_4;
      document.getElementById("q_image").src = "images\\sports\\" + selected_question.image;
   }


</script>